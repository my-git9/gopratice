
# Go 反射

## Go 反射小技巧

- 读写值，使用 `reflect.Value`
- 读取类型信息，使用 `reflect.Type`
- 时刻注意你现在操作的类型是不是指针。指针和指针指向的对象在反射层上是两个东西
- 大多数情况，指针类型对应的 `reflect.Type` 毫无用处。我们操作的都是指针指向的那个类型
- 没有足够的测试就不要用反射，因为反射 API 充斥着 panic
- 切片和数组在反射上也是两个东西
- 方法类型的字段和方法，在反射上也是两个不同的东西

> 没有测试就不要用反射，因为反射 API 充斥着 panic

## 面试要点
- 什么是反射？反射可以看作是对对象和对类型的描述，而我们可以通过反射来简介操作对象
- 反射的使用场景？一大堆，基本上任何高级框架都会用反射，ORM 是一个典型的例子。Beego 的 controller 模式的 Web 框架，就是基于反射的
- 能不能通过反射修改方法？绝对不能。为什么不能？Go runtime 没有暴露修改的接口。
- 什么样的字段可以被反射修改？有一个方法 CanSet 可以判断，简单来说就是 addressable。



